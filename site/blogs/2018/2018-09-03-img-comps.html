<!DOCTYPE html>
<!--[if IE 8]> <html lang="en" class="ie8 no-js"> <![endif]-->
<!--[if IE 9]> <html lang="en" class="ie9 no-js"> <![endif]-->
<!--[if !IE]><!--> <html lang="zh" class="no-js"> <!--<![endif]-->
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="../../../css/bootstrap.min-2.3.1.css">
	<link rel="stylesheet" type="text/css" href="../../../css/bootstrap-responsive.min.css">
	<link rel="stylesheet" type="text/css" href="../../../css/bootstrap-style.css">
    <link rel="stylesheet" type="text/css" href="../../../css/font-awesome.min.css">
	<link rel="stylesheet" type="text/css" href="../../../css/menu.css">
	<link rel="stylesheet" type="text/css" href="../../../css/blog.css">
    <link rel="stylesheet" type="text/css" href="../../../css/style.css">
	<link rel='stylesheet' type='text/css' href='../../../css/shCoreRDark.css'/>
	<link rel="shortcut icon" href="../../../img/logo.ico" />
    <title>GaoHR | 栅格图像补偿</title>
</head>

<body>
	<!--head-->
	<div class="mainlogo">
		<a href="../../../index.html"><span class="g-left">G</span>aoHR</a>
		<img src="../../../img/head.png" class="headimg">
		<script src="http://pv.sohu.com/cityjson?ie=utf-8"></script>
		<div class="weather" id ="weather"></div>
		<span id="head-tool" class="head-tool"></span>
	</div>
	<div class="container-fluid main-page">
		<div class="row-fluid">
			<div class="span2">
				<!--responsive menu-->
				<div id="mainmenu"></div>
			</div>
			<div class="span8">
				<!--breadcrumb-->
				<ol class="breadcrumb">
					<li><a href="../../../index.html"><i class="icon-home"></i> Home</a></li>
					<i class="icon-angle-right"></i>
					<a href="../../../Blogs.html"> Blog</a>
					<!--<li class="active">Blog</li>-->
				</ol>
				<!--正文-->
				<input id="blogid" style="display:none" value="2018090301">
				<div class="blogcontent alist">
					<h2>栅格图像补偿简单处理方法</h2>
					<h2><small>A simple processing method for raster compensation</small></h2>
					<div class="blogtopinfo"><span id="blogtopinfo"></span></div>
					<p>在栅格影像处理中，栅格图像补偿是指栅格数据的空间插值，利用已知数据对未知数据的空间位置进行插值。</p>
					<p>本文主要介绍一个利用Python进行栅格图像补偿的小程序，采用<b>邻域均值计算方法</b>对中心空值栅格进行数据补偿。</p>
					<p class="imginblog"><img src="2018-09-03-img-comps/img01.jpg" width="45%"></p>
					<p class="blog-sub-title"><b>思路</b></p>
					<p class="g-color-red">获取栅格数据：利用GDAL Python读取栅格影像，获取栅格影像行列、空间参照、空值等参数，将栅格数据读取为二维矩阵，方便后续处理</p>
					<p class="g-color-red">根据栅格数据大小设置领域大小，逐行列遍历栅格，如果当前栅格为空值，则计算邻域均值，作为当前栅格值</p>
					<p class="g-color-red">处理栅格数据边界，如果边界为空值，可简单利用周边值填充。</p>
					<p>注意事项：本程序适用于空间渐变类型的数据（如土壤水分），不适用于类型数据（如植被类型）</p>
					<p class="blog-sub-title"><b>算法实现</b></p>
					<p>栅格数据读取程序，依赖库：<a href="https://pypi.org/project/GDAL/" target="_blank">GDAL in Python</a></p>
					<div id="highlighter_681419" class="syntaxhighlighter  python"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">from</code>&nbsp;<code class="python plain">osgeo&nbsp;</code><code class="python keyword">import</code>&nbsp;<code class="python plain">gdal,osr</code></div><div class="line number2 index1 alt1"><code class="python keyword">class</code>&nbsp;<code class="python plain">Raster:</code></div><div class="line number3 index2 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">def</code>&nbsp;<code class="python plain">__init__(</code><code class="python color1">self</code><code class="python plain">,&nbsp;nRows,&nbsp;nCols,&nbsp;data,&nbsp;noDataValue</code><code class="python keyword">=</code><code class="python color1">None</code><code class="python plain">,&nbsp;geotransform</code><code class="python keyword">=</code><code class="python color1">None</code><code class="python plain">,&nbsp;srs</code><code class="python keyword">=</code><code class="python color1">None</code><code class="python plain">):</code></div><div class="line number4 index3 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python color1">self</code><code class="python plain">.nRows&nbsp;</code><code class="python keyword">=</code>&nbsp;<code class="python plain">nRows</code></div><div class="line number5 index4 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python color1">self</code><code class="python plain">.nCols&nbsp;</code><code class="python keyword">=</code>&nbsp;<code class="python plain">nCols</code></div><div class="line number6 index5 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python color1">self</code><code class="python plain">.data&nbsp;</code><code class="python keyword">=</code>&nbsp;<code class="python plain">data</code></div><div class="line number7 index6 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python color1">self</code><code class="python plain">.noDataValue&nbsp;</code><code class="python keyword">=</code>&nbsp;<code class="python plain">noDataValue</code></div><div class="line number8 index7 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python color1">self</code><code class="python plain">.geotrans&nbsp;</code><code class="python keyword">=</code>&nbsp;<code class="python plain">geotransform</code></div><div class="line number9 index8 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python color1">self</code><code class="python plain">.srs&nbsp;</code><code class="python keyword">=</code>&nbsp;<code class="python plain">srs</code></div><div class="line number10 index9 alt1"><code class="python spaces">&nbsp;</code>&nbsp;</div><div class="line number11 index10 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python color1">self</code><code class="python plain">.dx&nbsp;</code><code class="python keyword">=</code>&nbsp;<code class="python plain">geotransform[</code><code class="python value">1</code><code class="python plain">]</code></div><div class="line number12 index11 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python color1">self</code><code class="python plain">.xMin&nbsp;</code><code class="python keyword">=</code>&nbsp;<code class="python plain">geotransform[</code><code class="python value">0</code><code class="python plain">]</code></div><div class="line number13 index12 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python color1">self</code><code class="python plain">.xMax&nbsp;</code><code class="python keyword">=</code>&nbsp;<code class="python plain">geotransform[</code><code class="python value">0</code><code class="python plain">]&nbsp;</code><code class="python keyword">+</code>&nbsp;<code class="python plain">nCols&nbsp;</code><code class="python keyword">*</code>&nbsp;<code class="python plain">geotransform[</code><code class="python value">1</code><code class="python plain">]</code></div><div class="line number14 index13 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python color1">self</code><code class="python plain">.yMax&nbsp;</code><code class="python keyword">=</code>&nbsp;<code class="python plain">geotransform[</code><code class="python value">3</code><code class="python plain">]</code></div><div class="line number15 index14 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python color1">self</code><code class="python plain">.yMin&nbsp;</code><code class="python keyword">=</code>&nbsp;<code class="python plain">geotransform[</code><code class="python value">3</code><code class="python plain">]&nbsp;</code><code class="python keyword">+</code>&nbsp;<code class="python plain">nRows&nbsp;</code><code class="python keyword">*</code>&nbsp;<code class="python plain">geotransform[</code><code class="python value">5</code><code class="python plain">]</code></div><div class="line number16 index15 alt1"><code class="python spaces">&nbsp;</code>&nbsp;</div><div class="line number17 index16 alt2"><code class="python spaces">&nbsp;</code>&nbsp;</div><div class="line number18 index17 alt1"><code class="python keyword">def</code>&nbsp;<code class="python plain">ReadRaster(rasterFile):</code></div><div class="line number19 index18 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">ds&nbsp;</code><code class="python keyword">=</code>&nbsp;<code class="python plain">gdal.</code><code class="python functions">Open</code><code class="python plain">(rasterFile)</code></div><div class="line number20 index19 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">band&nbsp;</code><code class="python keyword">=</code>&nbsp;<code class="python plain">ds.GetRasterBand(</code><code class="python value">1</code><code class="python plain">)</code></div><div class="line number21 index20 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">data&nbsp;</code><code class="python keyword">=</code>&nbsp;<code class="python plain">band.ReadAsArray()</code></div><div class="line number22 index21 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">xsize&nbsp;</code><code class="python keyword">=</code>&nbsp;<code class="python plain">band.XSize</code></div><div class="line number23 index22 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">ysize&nbsp;</code><code class="python keyword">=</code>&nbsp;<code class="python plain">band.YSize</code></div><div class="line number24 index23 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">noDataValue&nbsp;</code><code class="python keyword">=</code>&nbsp;<code class="python plain">band.GetNoDataValue()</code></div><div class="line number25 index24 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">geotrans&nbsp;</code><code class="python keyword">=</code>&nbsp;<code class="python plain">ds.GetGeoTransform()</code></div><div class="line number26 index25 alt1"><code class="python spaces">&nbsp;</code>&nbsp;</div><div class="line number27 index26 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">srs&nbsp;</code><code class="python keyword">=</code>&nbsp;<code class="python plain">osr.SpatialReference()</code></div><div class="line number28 index27 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">srs.ImportFromWkt(ds.GetProjection())</code></div><div class="line number29 index28 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">#&nbsp;print&nbsp;srs.ExportToProj4()</code></div><div class="line number30 index29 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code>&nbsp;<code class="python plain">noDataValue&nbsp;</code><code class="python keyword">is</code>&nbsp;<code class="python color1">None</code><code class="python plain">:</code></div><div class="line number31 index30 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">noDataValue&nbsp;</code><code class="python keyword">=</code>&nbsp;<code class="python keyword">-</code><code class="python value">9999</code></div><div class="line number32 index31 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">return</code>&nbsp;<code class="python plain">Raster(ysize,&nbsp;xsize,&nbsp;data,&nbsp;noDataValue,&nbsp;geotrans,&nbsp;srs)</code></div><div class="line number33 index32 alt2"><code class="python spaces">&nbsp;</code>&nbsp;</div><div class="line number34 index33 alt1"><code class="python spaces">&nbsp;</code>&nbsp;</div><div class="line number35 index34 alt2"><code class="python keyword">def</code>&nbsp;<code class="python plain">WriteGTiffFile(filename,&nbsp;nRows,&nbsp;nCols,&nbsp;data,&nbsp;geotransform,&nbsp;srs,&nbsp;noDataValue,&nbsp;gdalType):</code></div><div class="line number36 index35 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python functions">format</code>&nbsp;<code class="python keyword">=</code>&nbsp;<code class="python string">"GTiff"</code></div><div class="line number37 index36 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">driver&nbsp;</code><code class="python keyword">=</code>&nbsp;<code class="python plain">gdal.GetDriverByName(</code><code class="python functions">format</code><code class="python plain">)</code></div><div class="line number38 index37 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">ds&nbsp;</code><code class="python keyword">=</code>&nbsp;<code class="python plain">driver.Create(filename,&nbsp;nCols,&nbsp;nRows,&nbsp;</code><code class="python value">1</code><code class="python plain">,&nbsp;gdalType)</code></div><div class="line number39 index38 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">ds.SetGeoTransform(geotransform)</code></div><div class="line number40 index39 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">ds.SetProjection(srs.ExportToWkt())</code></div><div class="line number41 index40 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">ds.GetRasterBand(</code><code class="python value">1</code><code class="python plain">).SetNoDataValue(noDataValue)</code></div><div class="line number42 index41 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">ds.GetRasterBand(</code><code class="python value">1</code><code class="python plain">).WriteArray(data)</code></div><div class="line number43 index42 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">ds&nbsp;</code><code class="python keyword">=</code>&nbsp;<code class="python color1">None</code></div></div></td></tr></tbody></table></div>
					<p class="blog-sub-title">栅格图像补偿主程序（以24邻域计算为例）：</p>
					<div id="highlighter_478793" class="syntaxhighlighter  python"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div><div class="line number62 index61 alt1">62</div><div class="line number63 index62 alt2">63</div><div class="line number64 index63 alt1">64</div><div class="line number65 index64 alt2">65</div><div class="line number66 index65 alt1">66</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">def</code>&nbsp;<code class="python plain">Comps(in_raster,&nbsp;out_raster):</code></div><div class="line number2 index1 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">Raster&nbsp;</code><code class="python keyword">=</code>&nbsp;<code class="python plain">ReadRaster(in_raster)</code></div><div class="line number3 index2 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">data_ori&nbsp;</code><code class="python keyword">=</code>&nbsp;<code class="python plain">Raster.data</code></div><div class="line number4 index3 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">nRows&nbsp;</code><code class="python keyword">=</code>&nbsp;<code class="python plain">Raster.nRows</code></div><div class="line number5 index4 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">nCols&nbsp;</code><code class="python keyword">=</code>&nbsp;<code class="python plain">Raster.nCols</code></div><div class="line number6 index5 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">geoTrans&nbsp;</code><code class="python keyword">=</code>&nbsp;<code class="python plain">Raster.geotrans</code></div><div class="line number7 index6 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">srs&nbsp;</code><code class="python keyword">=</code>&nbsp;<code class="python plain">Raster.srs</code></div><div class="line number8 index7 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">NDV&nbsp;</code><code class="python keyword">=</code>&nbsp;<code class="python plain">Raster.noDataValue</code></div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">nb&nbsp;</code><code class="python keyword">=</code>&nbsp;<code class="python plain">[</code><code class="python value">2</code><code class="python plain">,&nbsp;</code><code class="python value">2</code><code class="python plain">,&nbsp;</code><code class="python value">2</code><code class="python plain">,&nbsp;</code><code class="python value">2</code><code class="python plain">]&nbsp;&nbsp;</code><code class="python comments">#&nbsp;[up,&nbsp;down,&nbsp;left,&nbsp;right]</code></div><div class="line number11 index10 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">n&nbsp;</code><code class="python keyword">=</code>&nbsp;<code class="python plain">(nb[</code><code class="python value">0</code><code class="python plain">]&nbsp;</code><code class="python keyword">+</code>&nbsp;<code class="python plain">nb[</code><code class="python value">1</code><code class="python plain">]&nbsp;</code><code class="python keyword">+</code>&nbsp;<code class="python value">1</code><code class="python plain">)&nbsp;</code><code class="python keyword">*</code>&nbsp;<code class="python plain">(nb[</code><code class="python value">2</code><code class="python plain">]&nbsp;</code><code class="python keyword">+</code>&nbsp;<code class="python plain">nb[</code><code class="python value">3</code><code class="python plain">]&nbsp;</code><code class="python keyword">+</code>&nbsp;<code class="python value">1</code><code class="python plain">)</code></div><div class="line number12 index11 alt1">&nbsp;</div><div class="line number13 index12 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">#&nbsp;data_new&nbsp;=&nbsp;numpy.zeros((nRows,&nbsp;nCols))</code></div><div class="line number14 index13 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">for</code>&nbsp;<code class="python plain">i&nbsp;</code><code class="python keyword">in</code>&nbsp;<code class="python functions">range</code><code class="python plain">(nb[</code><code class="python value">0</code><code class="python plain">],&nbsp;nRows&nbsp;</code><code class="python keyword">-</code>&nbsp;<code class="python plain">nb[</code><code class="python value">1</code><code class="python plain">]):</code></div><div class="line number15 index14 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">for</code>&nbsp;<code class="python plain">j&nbsp;</code><code class="python keyword">in</code>&nbsp;<code class="python functions">range</code><code class="python plain">(nb[</code><code class="python value">2</code><code class="python plain">],&nbsp;nCols&nbsp;</code><code class="python keyword">-</code>&nbsp;<code class="python plain">nb[</code><code class="python value">3</code><code class="python plain">]):</code></div><div class="line number16 index15 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code>&nbsp;<code class="python plain">data_ori[i][j]&nbsp;</code><code class="python keyword">=</code><code class="python keyword">=</code>&nbsp;<code class="python plain">NDV:</code></div><div class="line number17 index16 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">nodataNum&nbsp;</code><code class="python keyword">=</code>&nbsp;<code class="python value">0.</code></div><div class="line number18 index17 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">neighboSum&nbsp;</code><code class="python keyword">=</code>&nbsp;<code class="python value">0.</code></div><div class="line number19 index18 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">for</code>&nbsp;<code class="python plain">p&nbsp;</code><code class="python keyword">in</code>&nbsp;<code class="python functions">range</code><code class="python plain">(i&nbsp;</code><code class="python keyword">-</code>&nbsp;<code class="python plain">nb[</code><code class="python value">0</code><code class="python plain">],&nbsp;i&nbsp;</code><code class="python keyword">+</code>&nbsp;<code class="python value">1</code>&nbsp;<code class="python keyword">+</code>&nbsp;<code class="python plain">nb[</code><code class="python value">1</code><code class="python plain">]):</code></div><div class="line number20 index19 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">for</code>&nbsp;<code class="python plain">q&nbsp;</code><code class="python keyword">in</code>&nbsp;<code class="python functions">range</code><code class="python plain">(j&nbsp;</code><code class="python keyword">-</code>&nbsp;<code class="python plain">nb[</code><code class="python value">2</code><code class="python plain">],&nbsp;j&nbsp;</code><code class="python keyword">+</code>&nbsp;<code class="python value">1</code>&nbsp;<code class="python keyword">+</code>&nbsp;<code class="python plain">nb[</code><code class="python value">3</code><code class="python plain">]):</code></div><div class="line number21 index20 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code>&nbsp;<code class="python plain">data_ori[p][q]&nbsp;</code><code class="python keyword">=</code><code class="python keyword">=</code>&nbsp;<code class="python plain">NDV:</code></div><div class="line number22 index21 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">nodataNum&nbsp;</code><code class="python keyword">+</code><code class="python keyword">=</code>&nbsp;<code class="python value">1.</code></div><div class="line number23 index22 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">else</code><code class="python plain">:</code></div><div class="line number24 index23 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">neighboSum&nbsp;</code><code class="python keyword">+</code><code class="python keyword">=</code>&nbsp;<code class="python functions">float</code><code class="python plain">(data_ori[p][q])</code></div><div class="line number25 index24 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code>&nbsp;<code class="python plain">nodataNum&nbsp;</code><code class="python keyword">=</code><code class="python keyword">=</code>&nbsp;<code class="python plain">n:</code></div><div class="line number26 index25 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">data_ori[i][j]&nbsp;</code><code class="python keyword">=</code>&nbsp;<code class="python plain">NDV</code></div><div class="line number27 index26 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">else</code><code class="python plain">:</code></div><div class="line number28 index27 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">data_ori[i][j]&nbsp;</code><code class="python keyword">=</code>&nbsp;<code class="python plain">neighboSum&nbsp;</code><code class="python keyword">/</code>&nbsp;<code class="python functions">float</code><code class="python plain">(n&nbsp;</code><code class="python keyword">-</code>&nbsp;<code class="python plain">nodataNum)</code></div><div class="line number29 index28 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">#&nbsp;print('%d&nbsp;/&nbsp;%d&nbsp;=&nbsp;%.3f'&nbsp;%&nbsp;(neighboSum,&nbsp;(9.&nbsp;-&nbsp;nodataNum),&nbsp;data_ori[i][j]))</code></div><div class="line number30 index29 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">else</code><code class="python plain">:</code></div><div class="line number31 index30 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">continue</code></div><div class="line number32 index31 alt1">&nbsp;</div><div class="line number33 index32 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">##&nbsp;The&nbsp;first&nbsp;row</code></div><div class="line number34 index33 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">for</code>&nbsp;<code class="python plain">i&nbsp;</code><code class="python keyword">in</code>&nbsp;<code class="python functions">range</code><code class="python plain">(nb[</code><code class="python value">0</code><code class="python plain">]):</code></div><div class="line number35 index34 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">for</code>&nbsp;<code class="python plain">j&nbsp;</code><code class="python keyword">in</code>&nbsp;<code class="python functions">range</code><code class="python plain">(nCols):</code></div><div class="line number36 index35 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code>&nbsp;<code class="python plain">(data_ori[i][j]&nbsp;</code><code class="python keyword">=</code><code class="python keyword">=</code>&nbsp;<code class="python plain">NDV):</code></div><div class="line number37 index36 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">data_ori[i][j]&nbsp;</code><code class="python keyword">=</code>&nbsp;<code class="python plain">data_ori[i&nbsp;</code><code class="python keyword">+</code>&nbsp;<code class="python plain">nb[</code><code class="python value">0</code><code class="python plain">]][j]</code></div><div class="line number38 index37 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">else</code><code class="python plain">:</code></div><div class="line number39 index38 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">continue</code></div><div class="line number40 index39 alt1">&nbsp;</div><div class="line number41 index40 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">##&nbsp;The&nbsp;last&nbsp;row</code></div><div class="line number42 index41 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">for</code>&nbsp;<code class="python plain">i&nbsp;</code><code class="python keyword">in</code>&nbsp;<code class="python functions">range</code><code class="python plain">(nRows&nbsp;</code><code class="python keyword">-</code>&nbsp;<code class="python plain">nb[</code><code class="python value">1</code><code class="python plain">],&nbsp;nRows):</code></div><div class="line number43 index42 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">for</code>&nbsp;<code class="python plain">j&nbsp;</code><code class="python keyword">in</code>&nbsp;<code class="python functions">range</code><code class="python plain">(nCols):</code></div><div class="line number44 index43 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code>&nbsp;<code class="python plain">(data_ori[i][j]&nbsp;</code><code class="python keyword">=</code><code class="python keyword">=</code>&nbsp;<code class="python plain">NDV):</code></div><div class="line number45 index44 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">data_ori[i][j]&nbsp;</code><code class="python keyword">=</code>&nbsp;<code class="python plain">data_ori[i&nbsp;</code><code class="python keyword">-</code>&nbsp;<code class="python plain">nb[</code><code class="python value">1</code><code class="python plain">]][j]</code></div><div class="line number46 index45 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">else</code><code class="python plain">:</code></div><div class="line number47 index46 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">continue</code></div><div class="line number48 index47 alt1">&nbsp;</div><div class="line number49 index48 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">##&nbsp;The&nbsp;first&nbsp;col</code></div><div class="line number50 index49 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">for</code>&nbsp;<code class="python plain">i&nbsp;</code><code class="python keyword">in</code>&nbsp;<code class="python functions">range</code><code class="python plain">(nRows):</code></div><div class="line number51 index50 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">for</code>&nbsp;<code class="python plain">j&nbsp;</code><code class="python keyword">in</code>&nbsp;<code class="python functions">range</code><code class="python plain">(nb[</code><code class="python value">2</code><code class="python plain">]):</code></div><div class="line number52 index51 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code>&nbsp;<code class="python plain">(data_ori[i][j]&nbsp;</code><code class="python keyword">=</code><code class="python keyword">=</code>&nbsp;<code class="python plain">NDV):</code></div><div class="line number53 index52 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">data_ori[i][j]&nbsp;</code><code class="python keyword">=</code>&nbsp;<code class="python plain">data_ori[i][j&nbsp;</code><code class="python keyword">+</code>&nbsp;<code class="python plain">nb[</code><code class="python value">2</code><code class="python plain">]]</code></div><div class="line number54 index53 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">else</code><code class="python plain">:</code></div><div class="line number55 index54 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">continue</code></div><div class="line number56 index55 alt1">&nbsp;</div><div class="line number57 index56 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">##&nbsp;The&nbsp;last&nbsp;col</code></div><div class="line number58 index57 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">for</code>&nbsp;<code class="python plain">i&nbsp;</code><code class="python keyword">in</code>&nbsp;<code class="python functions">range</code><code class="python plain">(nRows):</code></div><div class="line number59 index58 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">for</code>&nbsp;<code class="python plain">j&nbsp;</code><code class="python keyword">in</code>&nbsp;<code class="python functions">range</code><code class="python plain">(nCols&nbsp;</code><code class="python keyword">-</code>&nbsp;<code class="python plain">nb[</code><code class="python value">3</code><code class="python plain">],&nbsp;nCols):</code></div><div class="line number60 index59 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code>&nbsp;<code class="python plain">(data_ori[i][j]&nbsp;</code><code class="python keyword">=</code><code class="python keyword">=</code>&nbsp;<code class="python plain">NDV):</code></div><div class="line number61 index60 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">data_ori[i][j]&nbsp;</code><code class="python keyword">=</code>&nbsp;<code class="python plain">data_ori[i][j&nbsp;</code><code class="python keyword">-</code>&nbsp;<code class="python plain">nb[</code><code class="python value">3</code><code class="python plain">]]</code></div><div class="line number62 index61 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">else</code><code class="python plain">:</code></div><div class="line number63 index62 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">continue</code></div><div class="line number64 index63 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number65 index64 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">WriteGTiffFile(out_raster,&nbsp;nRows,&nbsp;nCols,&nbsp;data_ori,&nbsp;geoTrans,&nbsp;srs,&nbsp;Raster.noDataValue,&nbsp;gdal.GDT_Float32)</code></div><div class="line number66 index65 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python functions">print</code><code class="python plain">(</code><code class="python string">"\tCompensate&nbsp;finished!&nbsp;\n\t&nbsp;Save&nbsp;as&nbsp;'%s'"</code>&nbsp;<code class="python keyword">%</code>&nbsp;<code class="python plain">out_raster)</code></div></div></td></tr></tbody></table></div>
					<p>调用方法：</p>
					<div id="highlighter_681257" class="syntaxhighlighter  python"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">if</code>&nbsp;<code class="python plain">__name__&nbsp;</code><code class="python keyword">=</code><code class="python keyword">=</code>&nbsp;<code class="python string">"__main__"</code><code class="python plain">:</code></div><div class="line number2 index1 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">in_raster&nbsp;</code><code class="python keyword">=</code>&nbsp;<code class="python plain">r</code><code class="python string">"&lt;full&nbsp;path&nbsp;of&nbsp;input&nbsp;raster&nbsp;(*.tif)&gt;"</code></div><div class="line number3 index2 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">out_raster&nbsp;</code><code class="python keyword">=</code>&nbsp;<code class="python plain">r</code><code class="python string">"&lt;full&nbsp;path&nbsp;of&nbsp;oitput&nbsp;raster&nbsp;(*.tif)&gt;"</code></div><div class="line number4 index3 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">Comps(in_raster,&nbsp;out_raster)</code></div></div></td></tr></tbody></table></div>
					<p class="blog-sub-title"><b>注释</b></p>
					<p>* 主函数第10行的变量<code>nb</code>是计算补偿时采集的数值窗口，<code>[2, 2, 2, 2]</code>表示上下左右各2行，即5 × 5的窗口。</p>
					<br>
					<p>Fighting, GISer!</p>
					<!-- Warning -->
					<div id="warning"></div>
					
					
				</div>
				<!-- Da shang -->
				<div id="dashang" class="dashang"></div>
				<!-- Comments -->
				<div id="comments"></div>
			</div>
			<div class="span2">
				<div class="block"></div>
				<div class="portlet" id="declareDiv"></div>
				<div class="block"></div>
				<div class="portlet">
					<p class="title"><i class="icon-book"></i><b>最新博文</b></p>
					<br>
					<div class="blog-page" id="blogs"></div>
				</div>
				<!-- Share -->
				<div id="shareit"></div>
				<!-- right ad  -->
				<div id="rightad" class="rightad"></div>
			</div>
		</div>
	</div>
	<!-- others  --> 
	<div id="others"></div>
	<!-- footer  --> 
	<footer>
		<p id="copyright" class="copyright"></p>
	</footer>
    <!-- JavaScript -->
    <script src="../../../js/jquery.min.js"></script>
    <script src="../../../js/bootstrap.min.js"></script>
	<script src="../../../js/echarts.min.js"></script>
	<script src="../../../js/bloglist.js"></script>
	<script src="../../special/js/topicslist.js"></script>
	<script src="../../../js/paylist.js"></script>
	<script src="../blogsload.js"></script>
	<script src="../../../js/common.js"></script>
</body>
</html>
